!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},s=e.parcelRequirecf20;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in o){var s=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,s.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequirecf20=s),s("8MQwU"),s("5xtVg"),s("cfOGF"),s("23Ajj"),s("9ZZxa");var n=s("8MQwU"),a=(n=s("8MQwU"),s("5xtVg"));const l=document.querySelector(".main__title-js"),c=document.querySelector(".main__list-js");let i=0,r=0;const d=()=>{l.innerHTML=' Best Sellers <span class="main__title--color-purple">Books</span>',async function(){try{const e=await n.fetchBooks.getBestSellers();c.innerHTML=g(e);const t=document.querySelectorAll(".load-more-js"),o=document.querySelectorAll(".category-books__item");y(o),p(t)}catch(e){console.log(e)}}()};d();const g=e=>e.map((e=>`\n           <li class='all-categories__item'>\n           <h4 class='category-books__title'>${e.list_name}</h4>\n            <ul class='category-books__list-js card-set'>\n           ${u(e.books)}\n           </ul>\n           <button class="load-more-js" type="button" data-category="${e.list_name}">see more</button>\n           </li>\n      `)).join(""),u=e=>e.map((e=>`\n        <li class='category-books__item'>\n         <a href="/" class='category-books__link'>\n          <img\n            class='category-books__img'\n            src='${e.book_image}'\n            alt='book'\n            data-id="${e._id}"\n           loading="lazy"\n          />\n          <div class='category-books__wrapper'>\n          <p class='category-books__text'>quick view</p>\n          </div>\n          </a>\n          <h3 class='category-books__name' >${f(e.title,18)}</h3>\n          <p class='category-books__author'>${f(e.author,29)}</p>\n        </li>\n      `)).join("");const _=e=>{e.preventDefault(),i=e.target.dataset.id,"IMG"===e.target.nodeName&&(0,a.handleModalWindow)(i)},m=e=>{r=e.target.dataset.category,h(r),v(r)},f=(e,t)=>e.length>t?`${e.slice(0,t)}...`:e,y=e=>{e.forEach((e=>{e.addEventListener("click",_)}))},p=e=>{e.forEach((e=>{e.addEventListener("click",m)}))},h=e=>{const t=document.querySelector(".categories-list-js").children;for(let o=0;o<t.length;o+=1){const s=t[o];s.firstElementChild.classList.remove("selected-categories"),s.textContent.trim()===e.trim()&&s.firstElementChild.classList.add("selected-categories")}},b=document.querySelector(".categories-list-js"),k=document.querySelector(".main__list-js"),L=document.querySelector(".main__title-js"),j=document.querySelector(".all-categories-btn");j.classList.add("selected-categories");(async()=>{const e=(await n.fetchBooks.getCategoriesList()).map((e=>`<li class= 'categories-list__item '> <button class= 'categories-list__button'>${e.list_name}</button> </li>`)).join("");b.insertAdjacentHTML("beforeend",e)})();const v=async e=>{const t=await n.fetchBooks.getBooksByCategory(e),o=u(t),s=e.split(" "),a=s.slice(0,s.length-1).join(" "),l=s.slice(s.length-1).join();L.innerHTML=`${a}<span class="main__title--color-purple"> ${l}</span>`,k.innerHTML=o,k.classList.add("card-set");const c=document.querySelectorAll(".category-books__item");y(c),j.classList.remove("selected-categories")};b.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;if(q(),e.target===j)return j.classList.add("selected-categories"),void d();w=e.target.textContent,v(w),e.target.classList.add("selected-categories")}));let w="";const q=()=>{for(let e=0;e<b.children.length;e+=1){b.children[e].firstElementChild.classList.remove("selected-categories")}};s("xpKCW"),s("i8Q71"),s("euqRf")}();
//# sourceMappingURL=index.d34492a5.js.map
