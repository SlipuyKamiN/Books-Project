!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},s=e.parcelRequirecf20;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in o){var s=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,s.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},e.parcelRequirecf20=s),s("8MQwU"),s("5xtVg"),s("cfOGF"),s("23Ajj"),s("9ZZxa");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.Validator=n.Transformer=n.Runtime=n.Resolver=n.Reporter=n.Packager=n.Optimizer=n.Namer=n.Compressor=n.Bundler=void 0;const r=Symbol.for("parcel-plugin-config");n.Transformer=class{constructor(e){this[r]=e}};n.Resolver=class{constructor(e){this[r]=e}};n.Bundler=class{constructor(e){this[r]=e}};n.Namer=class{constructor(e){this[r]=e}};n.Runtime=class{constructor(e){this[r]=e}};n.Validator=class{constructor(e){this[r]=e}};n.Packager=class{constructor(e){this[r]=e}};n.Optimizer=class{constructor(e){this[r]=e}};n.Compressor=class{constructor(e){this[r]=e}};n.Reporter=class{constructor(e){this[r]=e}};var a=n.Transformer,c=s("WMajR");new a({async transform({asset:e}){const t=await e.getCode(),o=c.precompile(t);return e.setCode(`\n    import Handlebars from 'handlebars';\n    const templateFunction = Handlebars.template(${o});\n    export default templateFunction`),e.type="js",[e]}});var l=s("8MQwU"),i=(l=s("8MQwU"),s("5xtVg"));const u=document.querySelector(".main__title-js"),d=document.querySelector(".main__list-js");let m=0;const p=()=>{u.innerHTML=' Best Sellers <span class="main__title--color-purple">Books</span>',async function(){try{const e=await l.fetchBooks.getBestSellers();d.innerHTML=g(e);const t=document.querySelectorAll(".load-more-js"),o=document.querySelectorAll(".category-books__item");b(o),k(t)}catch(e){console.log(e)}}()};p();const g=e=>e.map((e=>`\n           <li class='all-categories__item'>\n           <h4 class='category-books__title'>${e.list_name}</h4>\n            <ul class='category-books__list-js card-set'>\n           ${_(e.books)}\n           </ul>\n           <button class="load-more-js" type="button">see more</button>\n           </li>\n      `)).join(""),_=e=>e.map((e=>`\n        <li class='category-books__item'>\n         <a href="/" class='category-books__link'>\n          <img\n            class='category-books__img'\n            src='${e.book_image}'\n            alt='book'\n            data-id="${e._id}"\n           loading="lazy"\n          />\n          <div class='category-books__wrapper'>\n          <p class='category-books__text'>quick view</p>\n          </div>\n          </a>\n          <h3 class='category-books__name' >${h(e.title)}</h3>\n          <p class='category-books__author'>${e.author}</p>\n        </li>\n      `)).join("");const f=e=>{e.preventDefault(),m=e.target.dataset.id,"IMG"===e.target.nodeName&&(0,i.handleModalWindow)(m)},y=e=>{e.target.classList.add("visually-hidden")},h=e=>e.length>19?`${e.slice(0,18)}...`:e,b=e=>{e.forEach((e=>{e.addEventListener("click",f)}))},k=e=>{e.forEach((e=>{e.addEventListener("click",y)}))};s("5xtVg");const v=document.querySelector(".categories-list-js"),j=document.querySelector(".main__list-js"),w=document.querySelector(".main__title-js"),x=document.querySelector(".all-categories-btn");(async()=>{const e=(await l.fetchBooks.getCategoriesList()).map((e=>`<li class= 'categories-list__button'> <button>${e.list_name}</button> </li>`)).join("");v.insertAdjacentHTML("beforeend",e)})();v.addEventListener("click",(function(e){if(e.target===x)return void p();T=e.target.textContent,(async e=>{const t=await l.fetchBooks.getBooksByCategory(e),o=_(t),s=e.split(" "),n=s.slice(0,s.length-1).join(" "),r=s.slice(s.length-1).join();w.innerHTML=`${n}<span class="main__title--color-purple"> ${r}</span>`,j.innerHTML=o,j.classList.add("card-set");const a=document.querySelectorAll(".category-books__item");b(a)})(T),""!==M&&(M.style.textTransform="none");e.target.style.textTransform="uppercase",M=e.target}));let M="",T="";s("xpKCW"),s("i8Q71")}();
//# sourceMappingURL=index.7ac78aa1.js.map
